Q:sql及其执行计划优化。
===
+ 何时匹配到索引
>明确第一索引，第二索引的含义。组合索引只能前缀匹配。同样，like 关键字也只能前缀匹配索引，通配符不能放在第一个字符。
+ 何时不走索引
>1.如果mysql 估计索引使用比全表扫描更慢，则不使用索引。例如几乎获取全表数据的范围查询等等。
2.or 分开的条件，OR前的条件列有索引，后面的没有索引，那么涉及的索引都不会用到。
3.条件不是组合索引的第一部分，即不满足前缀左匹配的条件。
4.like 条件以%开始，则不走索引。
5.where 条件后如果是字符串，则一定要用引号括起来，不然自动转换其他类型后，不会走索引。
+ 常用SQL优化
>1.大批量插入数据，使用多值语句插入。insert into test values (1,2),(2,3),(2,4)......
2.优化group by, 默认情况下，mysql 会对所有group by C1,C2,C3 ... 的字段排序，与order by C1,C2,C3 类似，所以在group by 中增加相同列的order by 性能没什么影响。
如果用户想避免排序带来的影响，可以显式指定不排序，后面加上order by NULL。
3.order by 后面的顺序与索引顺序相同，且与where 中使用的条件相同，且是索引，则才会走真正索引。
4.in + 子查询的 SQL 尽量用join 连接来代替。
5.OR 之间的每个条件列都必须用到索引。
6.考虑每次查询时的IO消耗，回表次数。
7.考虑表设计时，数据结构的不同，比如varchar ,char 区别(长度是否固定，空间占用，性能等有本质区别，但在不同的引擎下还有区别)。
8.考虑表设计时每行数据的大小，尽量保持在128K以内，让其在一页内，避免跨页，大数据行。